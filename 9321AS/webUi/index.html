<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Fire prediction</title>
</head>

<body>
    <div id="root">
    <button id = 'start' onclick="predict()">start</button>
    "humidity":<input type="text" id ="humidity" value="">  
    "pressure": <input type="text" id ="pressure" value=""> 
    "temprature": <input type="text" id ="temprature" value=""> 
    "wind_direction": <input type="text" id ="wind_direction" value=""> 
    "wind_speed": <input type="text" id ="wind_speed" value="">  
    <text id = 'demo'> </text>
    <script>

            backend = 'http://127.0.0.1:5000'
            function API(path, options) {
            return fetch(backend +'/'+ path, options)
                .then(result => {
                return result;
                })
            }

            function fire(v1,v2,v3,v4,v5) {
            return API('prediction', {
            method: "POST",
            body: JSON.stringify({
                "humidity": v1,
                "pressure": v2,
                "temprature": v3,
                "wind_direction": v4,
                "wind_speed": v5,
            }),
            headers: {
                "Content-Type": "application/json",
            },
            });
        }
            function predict(){

                fire(1, 1, 1, 1,1).then(
                    token => {
                    if (token.status == 200){
                        alert("Success!");
                        result.json().then(
                            result =>{
                            console.log(result.prediction);
                            document.getElementById("demo").innerHTML= result.prediction;
                        }
                    );
                    }
                    }
                );
            
                
            }
    </script>

 </div>
  

</body>

</html>